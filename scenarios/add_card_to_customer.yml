#require:
#  - other files with scenarios to import
scenarios:
  - name: customer_create
    request:
      method: POST
      href: /customers
      body:
        name: some name
    response:
      status_code: 201
      body: |
         { "$ref": "../responses/customers.json" }
  - name: card_create
    request:
      method: POST
      href: /cards
      body:
        number: 4111111111111111
        year: 2016
        month: 12
    response:
      body: |
        { "$ref": "../responses/cards.json" }
      status_code: 201
  - name: add_card_to_customer
    request:
      method: POST
      href: "{customer_create,customers.cards}"
      body:
        href: "{card_create,cards.href}"
    response:
      body: |
        { "allOf":
          [
          { "$ref": "../responses/cards.json" },
          { "equals": { "cards": [ { "links": { "customer": "{customer_create,customers.id}" } } ] } }
          ]
        }
